<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌌 Nebula Finance - Modo Simplificado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f1419 100%);
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
        }
        .nebula-card {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        .nebula-card:hover {
            transform: translateY(-2px);
            border-color: rgba(251, 191, 36, 0.5);
            box-shadow: 0 8px 32px rgba(251, 191, 36, 0.1);
        }
        .nebula-btn {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #1a1a2e;
            font-weight: 600;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .nebula-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4);
        }
    </style>
</head>
<body class="text-white">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-12">
            <h1 class="text-6xl font-bold mb-4 bg-gradient-to-r from-amber-400 to-amber-600 bg-clip-text text-transparent">
                🌌 Nebula Finance
            </h1>
            <p class="text-xl text-gray-300">Modo Simplificado - Totalmente Funcional</p>
            <div class="mt-4 flex justify-center space-x-4">
                <span class="px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm">✅ Sin Dependencias</span>
                <span class="px-3 py-1 bg-blue-500/20 text-blue-400 rounded-full text-sm">⚡ Carga Instantánea</span>
                <span class="px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm">🛡️ Ultra Estable</span>
            </div>
        </div>

        <!-- Navigation -->
        <div class="flex justify-center mb-8">
            <div class="nebula-card p-2">
                <div class="flex space-x-2">
                    <button onclick="showSection('dashboard')" class="nebula-btn text-sm" id="btn-dashboard">📊 Dashboard</button>
                    <button onclick="showSection('finance')" class="nebula-btn text-sm" id="btn-finance">💰 Finanzas</button>
                    <button onclick="showSection('tools')" class="nebula-btn text-sm" id="btn-tools">🛠️ Herramientas</button>
                    <button onclick="showSection('settings')" class="nebula-btn text-sm" id="btn-settings">⚙️ Config</button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div id="content-area" class="max-w-6xl mx-auto">
            <!-- Dashboard Section -->
            <div id="section-dashboard" class="section">
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="nebula-card p-6">
                        <div class="text-center">
                            <div class="text-4xl mb-3">💰</div>
                            <h3 class="text-xl font-semibold mb-2 text-amber-300">Ingresos</h3>
                            <p class="text-3xl font-bold text-green-400" id="total-income">$0</p>
                            <p class="text-gray-400 text-sm">Este mes</p>
                        </div>
                    </div>
                    
                    <div class="nebula-card p-6">
                        <div class="text-center">
                            <div class="text-4xl mb-3">💸</div>
                            <h3 class="text-xl font-semibold mb-2 text-amber-300">Gastos</h3>
                            <p class="text-3xl font-bold text-red-400" id="total-expenses">$0</p>
                            <p class="text-gray-400 text-sm">Este mes</p>
                        </div>
                    </div>
                    
                    <div class="nebula-card p-6">
                        <div class="text-center">
                            <div class="text-4xl mb-3">💎</div>
                            <h3 class="text-xl font-semibold mb-2 text-amber-300">Balance</h3>
                            <p class="text-3xl font-bold text-amber-400" id="total-balance">$0</p>
                            <p class="text-gray-400 text-sm">Total disponible</p>
                        </div>
                    </div>
                </div>
                
                <div class="mt-8 grid md:grid-cols-2 gap-6">
                    <div class="nebula-card p-6">
                        <h3 class="text-xl font-semibold mb-4 text-amber-300">🎯 Metas Financieras</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span>Fondo de Emergencia</span>
                                <span class="text-amber-400">70%</span>
                            </div>
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-gradient-to-r from-amber-400 to-amber-600 h-2 rounded-full" style="width: 70%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="nebula-card p-6">
                        <h3 class="text-xl font-semibold mb-4 text-amber-300">📈 Resumen Rápido</h3>
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span>Transacciones este mes:</span>
                                <span class="text-amber-400" id="transaction-count">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Promedio diario:</span>
                                <span class="text-amber-400" id="daily-average">$0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Categoría principal:</span>
                                <span class="text-amber-400">Alimentación</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Finance Section -->
            <div id="section-finance" class="section hidden">
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Add Transaction -->
                    <div class="nebula-card p-6">
                        <h3 class="text-xl font-semibold mb-4 text-amber-300">➕ Nueva Transacción</h3>
                        <form id="transaction-form" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">Tipo</label>
                                <select id="transaction-type" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white">
                                    <option value="income">💰 Ingreso</option>
                                    <option value="expense">💸 Gasto</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Cantidad</label>
                                <input type="number" id="transaction-amount" placeholder="0" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white">
                            </div>
                            <div>
                                <label class="block text-sm font-medium mb-2">Descripción</label>
                                <input type="text" id="transaction-description" placeholder="Describe la transacción" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white">
                            </div>
                            <button type="submit" class="nebula-btn w-full">✅ Agregar Transacción</button>
                        </form>
                    </div>
                    
                    <!-- Recent Transactions -->
                    <div class="nebula-card p-6">
                        <h3 class="text-xl font-semibold mb-4 text-amber-300">📝 Transacciones Recientes</h3>
                        <div id="recent-transactions" class="space-y-3">
                            <div class="text-center text-gray-400 py-8">
                                <div class="text-4xl mb-2">📊</div>
                                <p>No hay transacciones aún</p>
                                <p class="text-sm">Agrega tu primera transacción</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tools Section -->
            <div id="section-tools" class="section hidden">
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="nebula-card p-6 text-center">
                        <h3 class="text-lg font-semibold mb-3 text-amber-300">🔄 Recarga Total</h3>
                        <p class="text-gray-400 text-sm mb-4">Reinicia la aplicación completamente</p>
                        <button onclick="location.reload()" class="nebula-btn">Recargar</button>
                    </div>
                    
                    <div class="nebula-card p-6 text-center">
                        <h3 class="text-lg font-semibold mb-3 text-amber-300">🗑️ Limpiar Datos</h3>
                        <p class="text-gray-400 text-sm mb-4">Elimina todos los datos guardados</p>
                        <button onclick="clearAllData()" class="nebula-btn bg-red-500 hover:bg-red-600">Limpiar</button>
                    </div>
                    
                    <div class="nebula-card p-6 text-center">
                        <h3 class="text-lg font-semibold mb-3 text-amber-300">📊 Versión Completa</h3>
                        <p class="text-gray-400 text-sm mb-4">Acceder a la versión completa</p>
                        <a href="index.html" class="nebula-btn inline-block">Ir a Completa</a>
                    </div>
                    
                    <div class="nebula-card p-6 text-center">
                        <h3 class="text-lg font-semibold mb-3 text-amber-300">🔍 Diagnóstico</h3>
                        <p class="text-gray-400 text-sm mb-4">Herramientas de diagnóstico</p>
                        <a href="diagnostic.html" class="nebula-btn inline-block">Diagnóstico</a>
                    </div>
                    
                    <div class="nebula-card p-6 text-center">
                        <h3 class="text-lg font-semibold mb-3 text-amber-300">⚡ Acceso Directo</h3>
                        <p class="text-gray-400 text-sm mb-4">Página de acceso directo</p>
                        <a href="direct-access.html" class="nebula-btn inline-block">Acceso Directo</a>
                    </div>
                    
                    <div class="nebula-card p-6 text-center">
                        <h3 class="text-lg font-semibold mb-3 text-amber-300">💾 Exportar Datos</h3>
                        <p class="text-gray-400 text-sm mb-4">Descargar datos en JSON</p>
                        <button onclick="exportData()" class="nebula-btn">Exportar</button>
                    </div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="section-settings" class="section hidden">
                <div class="max-w-2xl mx-auto">
                    <div class="nebula-card p-6">
                        <h3 class="text-xl font-semibold mb-6 text-amber-300">⚙️ Configuración</h3>
                        
                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium mb-2">🎨 Tema de Color</label>
                                <select id="theme-selector" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white">
                                    <option value="amber">🌟 Dorado (Nebula)</option>
                                    <option value="blue">💎 Azul</option>
                                    <option value="green">🌿 Verde</option>
                                    <option value="purple">🔮 Púrpura</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">💰 Moneda</label>
                                <select id="currency-selector" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white">
                                    <option value="COP">🇨🇴 Peso Colombiano (COP)</option>
                                    <option value="USD">🇺🇸 Dólar (USD)</option>
                                    <option value="EUR">🇪🇺 Euro (EUR)</option>
                                    <option value="MXN">🇲🇽 Peso Mexicano (MXN)</option>
                                </select>
                            </div>
                            
                            <div class="pt-4 border-t border-gray-700">
                                <h4 class="font-semibold mb-3 text-amber-300">📊 Estadísticas de la App</h4>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span>Versión:</span>
                                        <span class="text-amber-400">Simplificada v1.0</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Estado:</span>
                                        <span class="text-green-400">✅ Funcionando</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span>Datos guardados:</span>
                                        <span class="text-amber-400" id="data-size">0 KB</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simple state management
        let appData = JSON.parse(localStorage.getItem('nebulaSimpleData')) || {
            transactions: [],
            settings: {
                theme: 'amber',
                currency: 'COP'
            }
        };

        // Show section function
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(`section-${sectionName}`).classList.remove('hidden');
            
            // Update button styles
            document.querySelectorAll('[id^="btn-"]').forEach(btn => {
                btn.classList.remove('bg-amber-600');
            });
            document.getElementById(`btn-${sectionName}`).classList.add('bg-amber-600');
            
            // Update content based on section
            if (sectionName === 'dashboard') {
                updateDashboard();
            }
        }

        // Transaction form handler
        document.getElementById('transaction-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const type = document.getElementById('transaction-type').value;
            const amount = parseFloat(document.getElementById('transaction-amount').value);
            const description = document.getElementById('transaction-description').value;
            
            if (!amount || !description) {
                alert('Por favor completa todos los campos');
                return;
            }
            
            const transaction = {
                id: Date.now(),
                type,
                amount,
                description,
                date: new Date().toISOString().split('T')[0]
            };
            
            appData.transactions.unshift(transaction);
            saveData();
            
            // Reset form
            this.reset();
            
            // Update displays
            updateDashboard();
            updateRecentTransactions();
            
            // Show success message
            showNotification('✅ Transacción agregada exitosamente');
        });

        // Update dashboard
        function updateDashboard() {
            const income = appData.transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
            const expenses = appData.transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
            const balance = income - expenses;
            
            document.getElementById('total-income').textContent = formatCurrency(income);
            document.getElementById('total-expenses').textContent = formatCurrency(expenses);
            document.getElementById('total-balance').textContent = formatCurrency(balance);
            document.getElementById('transaction-count').textContent = appData.transactions.length;
            document.getElementById('daily-average').textContent = formatCurrency(expenses / 30);
        }

        // Update recent transactions
        function updateRecentTransactions() {
            const container = document.getElementById('recent-transactions');
            const recent = appData.transactions.slice(0, 5);
            
            if (recent.length === 0) {
                container.innerHTML = `
                    <div class="text-center text-gray-400 py-8">
                        <div class="text-4xl mb-2">📊</div>
                        <p>No hay transacciones aún</p>
                        <p class="text-sm">Agrega tu primera transacción</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = recent.map(t => `
                <div class="flex justify-between items-center p-3 bg-gray-800/50 rounded-lg">
                    <div>
                        <div class="font-medium">${t.description}</div>
                        <div class="text-sm text-gray-400">${t.date}</div>
                    </div>
                    <div class="text-right">
                        <div class="font-bold ${t.type === 'income' ? 'text-green-400' : 'text-red-400'}">
                            ${t.type === 'income' ? '+' : '-'}${formatCurrency(t.amount)}
                        </div>
                        <div class="text-xs text-gray-500">${t.type === 'income' ? 'Ingreso' : 'Gasto'}</div>
                    </div>
                </div>
            `).join('');
        }

        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('es-CO', {
                style: 'currency',
                currency: appData.settings.currency
            }).format(amount);
        }

        function saveData() {
            localStorage.setItem('nebulaSimpleData', JSON.stringify(appData));
            updateDataSize();
        }

        function updateDataSize() {
            const size = new Blob([JSON.stringify(appData)]).size;
            document.getElementById('data-size').textContent = `${(size / 1024).toFixed(1)} KB`;
        }

        function clearAllData() {
            if (confirm('¿Estás seguro de que quieres eliminar todos los datos?')) {
                localStorage.removeItem('nebulaSimpleData');
                appData = { transactions: [], settings: { theme: 'amber', currency: 'COP' } };
                updateDashboard();
                updateRecentTransactions();
                showNotification('🗑️ Todos los datos han sido eliminados');
            }
        }

        function exportData() {
            const dataStr = JSON.stringify(appData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `nebula-finance-backup-${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            URL.revokeObjectURL(url);
            showNotification('💾 Datos exportados exitosamente');
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg z-50';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            showSection('dashboard');
            updateRecentTransactions();
            updateDataSize();
            
            // Load settings
            document.getElementById('theme-selector').value = appData.settings.theme;
            document.getElementById('currency-selector').value = appData.settings.currency;
            
            console.log('🌌 Nebula Finance Simplificado iniciado exitosamente');
        });

        // Settings handlers
        document.getElementById('theme-selector').addEventListener('change', function() {
            appData.settings.theme = this.value;
            saveData();
            showNotification('🎨 Tema actualizado');
        });

        document.getElementById('currency-selector').addEventListener('change', function() {
            appData.settings.currency = this.value;
            saveData();
            updateDashboard();
            updateRecentTransactions();
            showNotification('💰 Moneda actualizada');
        });
    </script>
</body>
</html>
